


<div id="page-wrapper" style="min-height: 898px;">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Propostas</h1>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
<<<<<<< HEAD
                    Cadastrar Nova Propostas
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-12" *ngIf="proposta">                         
                          <form [formGroup]="propostaForm" (ngSubmit)="onSubmit()" novalidate>
                              <div class="form-group col-lg-12">
                                  <div class="col-lg-2">
                                  <label for="name">Proposta (*)</label>
                                  </div>
                                  <div class="col-lg-10">
                                  <input type="text" id="nomeProposta" class="form-control"
                                          formControlName="nomeProposta"
                                          [(ngModel)]="proposta.nomeProposta"
                                          required>
                                          <div *ngIf="nomeProposta.invalid && (nomeProposta.dirty || nomeProposta.touched)"
                                              class="alert alert-danger">
  
                                          <div *ngIf="nomeProposta.errors.required">
                                              Name is required.
                                          </div>
                                          <div *ngIf="nomeProposta.errors.minLength">
                                              Name must be at least 4 characters long.
                                          </div>
                                          <div *ngIf="nomeProposta.errors.forbiddenName">
                                              Name cannot be Bob.
                                          </div>
  
                                      </div>
                                  </div>
                              </div>
                              <div class="form-group col-lg-12">
                                      <div class="col-lg-2">
                                      <label for="name">Descrição (*)</label>
                                  </div>
                                  <div class="col-lg-10">
                                      <textarea type="text" id="descricao" class="form-control"
                                      [(ngModel)]="proposta.descricao"
                                              formControlName="descricao" required 
                                              [(ngModel)]="proposta.descricao"></textarea>
                                  </div>
                              </div>
                              
                             
                              <div class="form-group col-lg-12">
                                  <div class="col-lg-2">
                                      <label for="name">Fornecedor (*)</label>
                                  </div>
                                  <div class="col-lg-10">
                                      <input class="form-control" type="hidden" #fornecedorID formControlName="fornecedorID" 
                                      [(ngModel)]="proposta.fornecedorId"/>  
                                      <input class="form-control" type="text" #fornecedor formControlName="fornecedor" (keyup)="search(fornecedor.value)" 
                                      [(ngModel)]="proposta.fornecedorNome"/>  
                                      <div class="search-result" *ngIf="flag">  
                                          <ul>  
                                              <li *ngFor="let f of fornecedores" (click)="onSelect(f)">  
                                                  <a >{{f.nome}}</a>  
                                              </li>             
                                          </ul>  
                                      </div>  
                                  </div>                            
                              </div>
                                  
                              <div class="form-group col-lg-12">
                                  <div class="col-lg-2">
                                      <label for="name">Categoria (*)</label>
                                  </div>
                                  <div class="col-lg-10">
                                      <select type="text" id="categoria" class="form-control"
                                      formControlName="categoria" required autocomplete="false">
                                      <option *ngFor="let cat of CategoriaOptions" [value]="cat.id">{{cat.nome}}</option>
                                      </select>
                                  </div>
                              </div>
                              <div class="form-group col-lg-12">
                                  <div class="col-lg-2">
                                      <label for="name">Valor (*)</label>
                                  </div>
                                  <div class="col-lg-10">
                                      <input type="text" id="valor" class="form-control"
                                      formControlName="valor" required  
                                      [(ngModel)]="proposta.valor"
                                      currencyMask   />
                                  </div>
                              </div> 
                              <div class="form-group col-lg-12">
                                  <div class="col-lg-2">
                                      <label for="pdf">Enviar PDF</label>
                                  </div>
                                  <div class="col-lg-10">
                                      <input type="file" #uploader class="form-control" (change)="fileChange(uploader.files)" placeholder="Upload pdf">
                                  </div>
                              </div> 
                            <button 
                            [disabled]="!propostaForm.valid"
                            type="submit" class="btn btn-success">
=======
                    Editar Proposta
                </div>
                <div class="panel-body">
                    <div class="row" >
                        <div class="col-lg-12">                         
                            <form [formGroup]="propostaForm" (ngSubmit)="onSubmit()" novalidate>
                                <div class="form-group">
                                    <label for="name">Proposta (*)</label>
                                    <input type="text" id="nomeProposta" class="form-control"
                                    [(ngModel)]="propostaModel.nomeProposta" 
                                    formControlName="nomeProposta" required>
                                </div>
                                <div class="form-group">
                                    <label for="name">Descrição (*)</label>
                                    <textarea type="text" id="descricao" class="form-control"
                                    #descricao
                                    [(ngModel)]="propostaModel.descricao" 
                                            formControlName="descricao" required></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="name">Fornecedor (*)</label>
                                    <input class="form-control" type="hidden" #fornecedorID formControlName="fornecedorID" 
                                    [(ngModel)]="propostaModel.fornecedor.id" />  
                                    <input class="form-control" type="text" #fornecedor 
                                    [(ngModel)]="propostaModel.fornecedor.nome"
                                    formControlName="fornecedor" (keyup)="search(fornecedor.value)" />  
                                    <div class="search-result" *ngIf="flag">  
                                        <ul>  
                                            <li *ngFor="let f of fornecedores" (click)="onSelect(f)">  
                                                <a >{{f.nome}}</a>  
                                            </li>             
                                        </ul>  
                                    </div>  
                                </div>
                                    
                                <div class="form-group">
                                    <label for="name">Categoria (*)</label>
                                    <select type="text" id="categoria" class="form-control"
                                    [(ngModel)]="propostaModel.categoria.id"
                                    formControlName="categoria" required autocomplete="false">
                                    <option *ngFor="let cat of CategoriaOptions"
                                    [value]="cat.id">{{cat.nome}}</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="name">Valor (*)</label>
                                    <input type="text" id="valor" class="form-control"
                                    [(ngModel)]="propostaModel.valor"
                                    formControlName="valor" required  
                                    currencyMask />
                                </div>
                                <div class="form-group">
                                    <label for="pdf">Enviar PDF</label>
                                    <input type="file" #uploader class="form-control" (change)="fileChange(uploader.files)" placeholder="Upload pdf"  accept=".pdf">
                                </div>
                            <button type="submit" class="btn btn-success">
>>>>>>> Desenvolvimento
                                Save
                            </button>
                          </form>
                        </div>
                    </div>
                    <!-- /.row (nested) -->
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
  </div>